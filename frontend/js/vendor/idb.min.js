// Minimal IndexedDB helper (promise-based)
(function(){function p(r){return new Promise(function(y,n){r.onsuccess=function(){y(r.result)};r.onerror=function(){n(r.error)}})}function openDB(name,version,upgrader){var req=indexedDB.open(name,version);if(upgrader){req.onupgradeneeded=function(e){upgrader(req.result,e.oldVersion,e.newVersion,req.transaction)}}return p(req)}function tx(db,store,mode){return db.transaction(store,mode).objectStore(store)}window.IDB={openDB, get:async(db,s,k)=>p(tx(db,s,'readonly').get(k)), set:async(db,s,v)=>p(tx(db,s,'readwrite').put(v)), del:async(db,s,k)=>p(tx(db,s,'readwrite').delete(k)), all:async(db,s)=>p(tx(db,s,'readonly').getAll())};})();

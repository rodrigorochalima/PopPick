<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>POPPIC â€¢ Login</title>
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
  <meta name="theme-color" content="#d4af37">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <script defer src="{{ url_for('static', filename='js/login.js') }}"></script>
</head>
<body class="login-body">
  <main class="login-card">
    <h1 class="logo">ğŸ¿ğŸ¬ POPPIC</h1>
    <p class="version">{{ version }}</p>
    <form id="loginForm" class="login-form">
      <label>UsuÃ¡rio <input id="username" required placeholder="rodrigo"></label>
      <label>Senha
        <div class="password-wrap">
          <input id="password" type="password" required placeholder="530431">
          <button type="button" id="togglePass" aria-label="Ver/ocultar senha">ğŸ‘ï¸</button>
        </div>
      </label>
      <button class="primary" type="submit">Entrar</button>
      <button class="ghost" type="button" id="forgotBtn">Esqueci a senha</button>
    </form>
  </main>

  <dialog id="forgotDlg" class="modal">
    <form method="dialog" class="modal-inner" id="forgotForm">
      <h3>Recuperar senha</h3>
      <div id="forgotStep1">
        <label>UsuÃ¡rio <input id="fUser" required></label>
        <button class="primary" id="askQuestion">Continuar</button>
      </div>
      <div id="forgotStep2" class="hidden">
        <p id="secretQuestion"></p>
        <label>Resposta <input id="secretAnswer" required></label>
        <label>Nova senha <input id="newPassword" type="password" required></label>
        <menu class="modal-actions">
          <button class="ghost" value="cancel">Cancelar</button>
          <button class="primary" id="doReset">Salvar nova senha</button>
        </menu>
      </div>
    </form>
  </dialog>

  <script>
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('{{ url_for('static', filename='sw.js') }}').catch(()=>{});
  </script>
</body>
</html>
